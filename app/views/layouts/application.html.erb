<!DOCTYPE html>
<html>
<head>
  <title>Betsy</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
</head>
<body>
  <header>
    <h1 class="zoolily"><%= link_to "ZOOLILY", root_path %></h1>
    <div id="login-navbar">
      <ul>
        <li>
          <% if current_user %>
            <%= button_to "Log out", sessions_path, { method: :delete, data: { confirm: "Are you sure you want to log out?" }, class: "log-out-button"} %>
          <% else %>
            <%= button_to "Log in with Github", '/auth/github', method: :post, class: "github-button" %>
          <% end %>
        </li>
        <li>
          <% if current_user %>
            <%= button_to "Dashboard", merchant_path(current_user), method: :get, class: "dashboard-button" %>
          <% else %>
            <%= button_to "Sign up with Github", '/auth/github', method: :post, class: "dashboard-button" %>
          <% end %>
        </li>
        <li>
          <%= button_to "View Cart", orderitems_path, method: :get, class: "cart-button" %>
        </li>
      </ul>
    </div>
    <div id="product-navbar">
      <ul>
        <li>
          <%= button_to "Shop All Products", products_path, method: :get, class: "get-products-button" %>
        </li>
        <li>
          <select name="product-by-category">
            <%= Category.all.each do |cat| %>
              <option value="<%= cat.id %>"><%= link_to "#{ cat.name }", product_path(cat.id), method: :get %></option>
            <% end %>
          </select>
        </li>
        <li>
          <select name="product-by-merchant">
            <%= Merchant.all.each do |merch| %>
              <option value="<%= merch.id %>"><%= link_to "#{ merch.username }", merchant_path(merch.id), method: :get %></option>
            <% end %>
          </select>
        </li>
        <li class="search-form">
          <%= form_tag(products_path, :method => "get", id: "search-form") do %>
            <%= text_field_tag :search, params[:search], placeholder: "Search Products" %>
            <%= submit_tag "Search", :name => nil %>
          <% end %>
        </li>
      </ul>
    </div>
  </header>

<%= yield %>

  <footer>
    <h4>&copy; <%= Time.now.year %> Heather Herrington, Mary Morrison, Yasmin Or, Danielle Schrimmer</h4>
  </footer>
</body>
</html>
