<h1>Checkout</h1>
<% @order_items.each do |order_item| %>
  <!-- because order_item model belongs to product model, so I can use order_item.product, which works as attr_reader-->
  <p><%= link_to "#{order_item.product.name}", show_products_path(order_item.product.id)%></p>
  <p>$<%= order_item.unit_price %></p>
  <p> Qty: <%= order_item.quantity %></p>

<% end %>

<p>cart subtotal:$<%= @order.total_price %></p>

<h3>Shipping address:</h3>

  <%= render partial: "address_form" %>


<h3>Payment Information:</h3>
<p>Payment Method: VISA only</p>
<%= form_for @order, url: create_orders_path do |f| %>
  <%= f.label "Credit Card:" %>
  <%= f.text_field :cc_number, :class => "cc_number" %>

  <%= f.label "Expiration Month:" %>
  <%= f.text_field :exp_month, :class => "exp_month" %>

  <%= f.label "Expiration Year:" %>
  <%= f.text_field :exp_year, :class => "exp_year" %>

  <%= f.label "CVC:" %>
  <%= f.text_field :cvc, :class => "cvc" %>
  <%= f.submit "submit"  %>
<% end %>


<%= button_to "Back to Cart", show_cart_path, :method => :get %>
<%= button_to "Confirm Payment", create_orders_path, :method => :get %>
