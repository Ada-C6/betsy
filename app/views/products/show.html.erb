<h1> <%= @product.name  %></h1>
<%#product details %>

<h1 class="details"><%= "#{@product.name.capitalize}" %></h1>

<%=image_tag "#{@product.photo_url}"%>
<ul>
  <li>
    <%= "Price: #{currency(@product.price)}" %>
  </li>
  <li>
    <%= "Details: #{@product.description}" %>
  </li>
  <%# link_to ##TODO make a button to "buy this product" method: :get %>
  <li>
    There are <%= "#{@product.inventory}" %>  remaining items, for  <%= "#{@product.name}" %> left!
  </li>
</ul>
<%#add to cart form %>
<ul>
  <li>
    <%= form_for [@order, @order_item] do |f| %>
    <%= f.label :quantity %>
    <%= f.text_field :quantity %>

    <%= f.hidden_field :product_id, value: @product.id %>
    <%= f.submit "Add to Cart" %>
    <% end %>
  </li>
</ul>
<!-- Buttons -->
<%= link_to "view related items", category_path(@product.id), method: :get, class: "button" %>
<%= link_to "view all products by this seller", search_sellers_products_path(@product.user_id), method: :get, class: "button" %>
<% if @session == false %>
<%= link_to "review this product", new_product_review_path(@product.id), method: :get, class: "button" %>
<%end %>
<%#TODO: how do I make the method to only allow the user selling the product to be able to edit it? %>
<% if @session == true %>
<%= link_to "edit this product", edit_product_path(@product.id), method: :get, class: "button" %>
<%= link_to "add another product", new_product_path, method: :get %>
<%= link_to "delete this product", product_path(@product.id), method: :delete, class: "button" %>

<% else %>
<h1 class="productlist"> Here Are All of Your Products To Date: </h1>
<% @products.each do |t| %>
<article>
  <h2 class="link"><%= link_to "Add a category to this product", new_category_path, method: :get %></h2>
  <h2 class="link"><%= link_to "Edit this product", edit_product_path, method: :get %></h2>

  <p>
    <%= t.name %>
    <%=t.description%>
    <%= t.status %>
    <%= t.retired %>
    <%= t.id %>
  </p>

  <h2 class="link"><%= link_to "Delete", product_path(:id), method: :delete, data: { confirm: 'Are you certain you want to delete this?' } %></h2>
</article>
<%end%>

<%end%>
